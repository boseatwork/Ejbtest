<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <head>
        <title>Register student for course</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>
   <h:body>
        <div align="center">
            <h1>Register a student</h1>
            <h:form>
                <h:panelGrid columns="2">
                    <h:outputLabel for="firstName" value="First name: "/>
                    <h:inputText id="firstName" value="#{populate.firstName}"
                                 validatorMessage="First name required">
                        <f:validateRequired/>
                    </h:inputText>

                    <h:outputLabel for="lastName" value="Last name: "/>
                    <h:inputText id="lastName" value="#{populate.lastName}"
                                 validatorMessage="Last name required">
                        <f:validateRequired/>
                    </h:inputText>

                    <h:outputLabel for="code" value="Course id: "/>
                    <h:inputText id="code" value="#{populate.courseCode}"
                                 validatorMessage="Course code required">
                        <f:validateRequired/>
                    </h:inputText>
                </h:panelGrid>
                <br/>
                <br/>
                <h:commandButton value="Register" 
                                 action="#{populate.registerStudent}"/>
                <br/>
            </h:form>
            <h2>Catalogue of courses</h2>
            <h:dataTable value="#{courseWeb.courses}" var="course">
                <h:column> #{course.id}</h:column>
                <h:column> #{course.name}</h:column>
                <h:column> #{course.code}</h:column>
            </h:dataTable>
            <br/>
            <h:outputText style="color:red;" value="#{populate.errorMessage}"/>
            <br/>
            <h2>Catalogue of registered students</h2>
            <h:dataTable value="#{populate.regStudents}" var="student">
                <h:column> #{student.id}</h:column>
                <h:column> #{student.firstName}</h:column>
                <h:column> #{student.lastName}</h:column>
                <h:column> #{student.email}</h:column>
            </h:dataTable>
        </div>
    </h:body>
</html>
